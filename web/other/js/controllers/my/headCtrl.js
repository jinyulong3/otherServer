app.controller("headCtrl",["$scope","$state","toaster","myConstants","$uibModal","httpJsonHandle","$translate",function(e,n,s,t,o,l,a){e.roleName="",e.lang={isopen:!1},e.langs={"zh-cn":"中文",en:"English"};var c=a.proposedLanguage()||a.use();e.app.myData.lang=c,console.log(e.app.myData.lang),e.selectLang=e.langs[c],e.setLang=function(n,o){e.selectLang=e.langs[n],a.use(n),e.lang.isopen=!e.lang.isopen,e.app.myData.lang=n},app.controller("changePswCon",["$scope","$uibModalInstance","parentScope","info",function(o,e,n,a){console.log(a),o.info=a,o.parentScope=n,o.oldPswErr=!1,o.verify=function(){return void 0===o.info||void 0===o.info.newPsw||void 0===o.newPsw2||(o.info.newPsw,o.newPsw2),!0},o.ok=function(){o.info.sessionId=n.app.myData.sessionId,o.info.phoneNum=o.parentScope.app.myData.userId,console.log(o.info),o.callback2=function(n){s.clear(),s.pop("success","成功","修改成功！",t.TIMEOUT.timeout1s),e.dismiss(0),o.parentScope.loginout()},l.myPost2(t.URL.systemUrl,o.info,t.msgIdName.changePswMsgId,t.msgIdName.changePswMsgName,o.callback2,e),s.pop("wait","请求数据","修改密码中...")},o.cancel=function(){e.dismiss(0)}}]),e.changePsw=function(){o.open({templateUrl:"tpl/blocks/header/changePsw.html",controller:"changePswCon",size:"md",resolve:{parentScope:e,info:e.info}})},e.loginout=function(){e.app.myData.sessionId="",n.go("access.signin")}}]);