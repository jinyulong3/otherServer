angular.module("app").controller("singleCustomerSelectCon",["$scope",function(s){s.info.stationId="0"}]).directive("singleCustomerSelect",function(){return{restrict:"E",templateUrl:"tpl/dire/singleCustomerSelect.html",controller:"singleCustomerSelectCon",replace:!1}}).controller("userRoleSelectCon",["$scope","myConstants",function(s,e){switch(console.log(s.parent.app.myData.role),s.parent.app.myData.role){case 0:s.roles=e.roles;break;case 1:s.roles=e.roles.slice(1)}s.userRoleSelectChange=function(){console.log(s.info.role),console.log(s.role),console.log(s)}}]).directive("userRoleSelect",["myConstants",function(s){return{restrict:"E",templateUrl:"tpl/dire/userRoleSelect.html",controller:"userRoleSelectCon",replace:!1,resolve:{myConstants:s}}}]).controller("customerSelectNoAllCon",["$scope","httpJsonHandle","myConstants",function(e,t,o){o.getStationListSendData.sessionId=e.parent.app.myData.sessionId,console.log(e.parent.app.myData),e.selectCustomerChange=function(s){e.stationListNoAll=[],e.oilListNoAll=[],e.oilTankListNoAll=[],e.switchListNoAll=[],e.nozzleNumListNoAll=[],e.goodsclassNoAll=[],o.getStationListSendData.where=void 0===s?" customerId='"+e.info.customerId+"'":" customerId='"+s+"'",e._callback=function(s){e.stationListNoAll=s.fieldValues},t.myPost2(o.URL.systemUrl,o.getStationListSendData,o.msgIdName.normalSelectMsgId,o.msgIdName.normalSelectMsgName,e._callback)},e.selectCustomerChange(e.customerListNoAll[0].customerId)}]).directive("customerSelectNoAll",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/customerSelectNoAll.html",controller:"customerSelectNoAllCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("customerSelectCon",["$scope","httpJsonHandle","myConstants",function(e,t,o){o.getStationListSendData.sessionId=e.parent.app.myData.sessionId,console.log(e.parent.app.myData),e.selectCustomerChange=function(s){e.stationListNoAll=[],e.goodsclassNoAll=[],o.getStationListSendData.where=void 0===s?" customerId='"+e.info.customerId+"'":" customerId='"+s+"'",e._callback=function(s){e.stationListNoAll=s.fieldValues},t.myPost2(o.URL.systemUrl,o.getStationListSendData,o.msgIdName.normalSelectMsgId,o.msgIdName.normalSelectMsgName,e._callback)},e.selectCustomerChange(e.customerListNoAll[0].customerId)}]).directive("customerSelect",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/customerSelect.html",controller:"customerSelectCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("customerSelectGoodsclassCon",["$scope","httpJsonHandle","myConstants",function(e,t,o){console.log(e.app.myData),"0"==e.app.myData.customerList[0].customerId&&(e.customerList=e.app.myData.customerList.slice(1)),e.goodsclassList=[{classId:"0",className:"全部"}],e.goodsclassNoAll=[],log(e.customerList),o.queryGoodsclassData.sessionId=e.app.myData.sessionId,e.search_select_station_list=[{stationId:"0",stationName:"全部"}],e.stationListAll=[{stationId:"0",stationName:"全部"}],o.getStationListSendData.sessionId=e.app.myData.sessionId,log(e.stationListAll),e.selectCustomerChange=function(s){console.log(s),e.show1=!1,e.show2=!1,e.show3=!1,e.parentClassId="0",o.queryGoodsclassData.parentClassId="0",void 0===s?(o.queryGoodsclassData.customerId=e.info.customerId,o.getStationListSendData.where=" customerId='"+e.info.customerId+"'"):(o.queryGoodsclassData.customerId=s,o.getStationListSendData.where=" customerId='"+s+"'"),e._callback=function(s){e.goodsclassList=s.goodsclassList;e.goodsclassList.unshift({classId:"0",className:"第1级类别"}),e.goodsclassNoAll=e.goodsclassList.slice(0),console.log(e.goodsclassList)},t.myPost2(o.URL.systemUrl,o.queryGoodsclassData,o.msgIdName.queryGoodsclassMsgId,o.msgIdName.queryGoodsclassMsgName,e._callback),e._callback_stations=function(s){e.stationListNoAll=s.fieldValues,e.stationListAll=e.search_select_station_list.concat(s.fieldValues)},t.myPost2(o.URL.systemUrl,o.getStationListSendData,o.msgIdName.normalSelectMsgId,o.msgIdName.normalSelectMsgName,e._callback_stations)},void 0!==e.info&&void 0!==e.info.customerId&&console.log(e.info.customerId),console.log(e.type)}]).directive("customerSelectGoodsclass",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/customerSelect.html",controller:"customerSelectGoodsclassCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("goodsclassSelectCon",["$scope","myConstants","httpJsonHandle",function(e,s,t){0==e.goodsclassList.length&&(e.goodsclassList=[{classId:"0",className:"第1级类别"}]),e.show1=!1,void 0!==e.info.classId0&&(e.info.classId0="0"),void 0!==e.parent&&(s.queryGoodsData.sessionId=e.parent.app.myData.sessionId),e.goodsclassSelChange=function(){console.log(e.info.classId0),e.show2=!1,e.show3=!1,"0"==e.info.classId0?(console.log("classId0选择全部 隐藏下一级select"),e.show1=!1,e.show2=!1,e.toQuery_parentClassId="0",e.currentClassId="0",e.goodsList=[]):(e.toQuery_parentClassId=e.info.classId0,e.currentClassId=e.info.classId0,console.log("classId0选择类别 显示下一级select"),s.queryGoodsclassData.parentClassId=e.info.classId0,e._callback1=function(s){e.goodsclassList1=s.goodsclassList;e.goodsclassList1.unshift({classId:"0",className:"第2级类别"}),e.goodsclassNoAll1=e.goodsclassList.slice(1),console.log(e.goodsclassList1),e.show1=!0},t.myPost2(s.URL.systemUrl,s.queryGoodsclassData,s.msgIdName.queryGoodsclassMsgId,s.msgIdName.queryGoodsclassMsgName,e._callback1),s.queryGoodsData.customerId=e.info.customerId,s.queryGoodsData.stationId=e.info.stationId,s.queryGoodsData.classId=e.currentClassId,e._callback2=function(s){e.goodsList=s.goodsList,console.log(e.goodsList)},t.myPost2(s.URL.systemUrl,s.queryGoodsData,s.msgIdName.queryGoodsMsgId,s.msgIdName.queryGoodsMsgName,e._callback2))}}]).directive("goodsclassSelect",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/goodsclassSelect.html",controller:"goodsclassSelectCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("goodsclassSelectCon1",["$scope","myConstants","httpJsonHandle",function(e,s,t){e.show2=!1,void 0!==e.parent?s.queryGoodsData.sessionId=e.parent.app.myData.sessionId:s.queryGoodsData.sessionId=e.app.myData.sessionId,e.goodsclassSelChange1=function(){console.log(e.info.classId0),"0"==e.info.classId1?(console.log("classId1选择全部 隐藏下一级select"),e.show2=!1,e.toQuery_parentClassId=e.info.classId0,e.currentClassId=e.info.classId0):(e.toQuery_parentClassId=e.info.classId1,e.currentClassId=e.info.classId1,console.log("classId1选择类别 显示下一级select"),s.queryGoodsclassData.parentClassId=e.info.classId1,e._callback1=function(s){e.goodsclassList2=s.goodsclassList;e.goodsclassList2.unshift({classId:"0",className:"第3级类别"}),e.goodsclassNoAll2=e.goodsclassList2.slice(1),console.log(e.goodsclassList2),e.show2=!0},t.myPost2(s.URL.systemUrl,s.queryGoodsclassData,s.msgIdName.queryGoodsclassMsgId,s.msgIdName.queryGoodsclassMsgName,e._callback1),s.queryGoodsData.customerId=e.info.customerId,s.queryGoodsData.stationId=e.info.stationId,s.queryGoodsData.classId=e.currentClassId,e._callback2=function(s){e.goodsList=s.goodsList,console.log(e.goodsList)},t.myPost2(s.URL.systemUrl,s.queryGoodsData,s.msgIdName.queryGoodsMsgId,s.msgIdName.queryGoodsMsgName,e._callback2))}}]).directive("goodsclassSelect1",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/goodsclassSelect1.html",controller:"goodsclassSelectCon1",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("goodsclassSelectCon2",["$scope","myConstants","httpJsonHandle",function(e,s,t){e.show2=!1,e.goodsclassSelChange2=function(){console.log(e.info.classId2),"0"==e.info.classId2?(console.log("classId2选择全部 隐藏下一级select"),e.show3=!1,e.toQuery_parentClassId=e.info.classId1,e.currentClassId=e.info.classId1):(console.log("classId2选择类别 显示下一级select"),e.currentClassId=e.info.classId2,s.queryGoodsData.customerId=e.info.customerId,s.queryGoodsData.stationId=e.info.stationId,s.queryGoodsData.classId=e.currentClassId,e._callback2=function(s){e.goodsList=s.goodsList,console.log(e.goodsList)},t.myPost2(s.URL.systemUrl,s.queryGoodsData,s.msgIdName.queryGoodsMsgId,s.msgIdName.queryGoodsMsgName,e._callback2))}}]).directive("goodsclassSelect2",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/goodsclassSelect2.html",controller:"goodsclassSelectCon2",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("goodsSelectCon",["$scope","myConstants","httpJsonHandle",function(t,s,e){t.goodsSelChange=function(){if(console.log(t.info.goodId),"0"!=t.info.goodId)for(var s=0;s<t.goodsList.length;s++){var e=t.goodsList[s];e.goodId==t.info.goodId?(t.info.goodsInfo=e.unitPrice/100+"元/"+e.unit,t.info.picUrlAddr="http://"+t.host+"/web"+e.picUrlAddr,console.log(t.info.goodInfo)):(t.goodInfo="",t.picUrlAddr="")}}}]).directive("goodsSelect",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/goodsSelect.html",controller:"goodsSelectCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("stationSelectAllCon",["$scope","myConstants","httpJsonHandle",function(s,e,t){}]).directive("stationSelectAll",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/stationSelectAll.html",controller:"stationSelectAllCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("stationSelectCon",["$scope","myConstants","httpJsonHandle",function(e,s,t){e.stationSelChange=function(){console.log("站点选择"),console.log(e.info.stationId),"queryPrizeHistory"==e.flag&&(console.log("开始查询多媒体设备"),void 0!==e.app?s.getMutiListSendData.sessionId=e.app.myData.sessionId:s.getMutiListSendData.sessionId=e.parent.app.myData.sessionId,s.getMutiListSendData.where=" stationId='"+e.info.stationId+"'",e.mutiDevicesList=[],e.mutiDevicesListAll=[{deviceId:"0",displayName:"全部"}],e._callback_mutiDevicesList=function(s){e.mutiDevicesList=s.fieldValues,e.mutiDevicesListAll=e.mutiDevicesListAll.concat(s.fieldValues),console.log(e.mutiDevicesListAll)},t.myPost2(s.URL.systemUrl,s.getMutiListSendData,s.msgIdName.normalSelectMsgId,s.msgIdName.normalSelectMsgName,e._callback_mutiDevicesList)),"prizedrawgoodsManage"==e.flag||"queryPrizeHistory"==e.flag||"queryPrizetactic"==e.flag?(console.log("这样动态请求 抽奖项目"),e.search_select_prizedraw_list=[],e.search_select_prizedraw_listAll=[{prizeDrawId:"0",prizeDrawName:"全部"}],e.callback_getPrizedrawList=function(s){e.search_select_prizedraw_list=e.search_select_prizedraw_list.concat(s.prizeDrawList),e.search_select_prizedraw_listAll=e.search_select_prizedraw_listAll.concat(s.prizeDrawList),console.log(e.search_select_prizedraw_list),console.log(e.search_select_prizedraw_listAll)},"0"!=e.info.stationId?("prizedrawgoodsManage"==e.flag&&(e.getPrizedrawGoodsList.stationId=e.info.stationId),"queryPrizetactic"==e.flag&&(e.getPrizetacticSendData.stationId=e.info.stationId),console.log(e.info),s.getPrizedrawListSendData.customerId=e.info.customerId,s.getPrizedrawListSendData.stationId=e.info.stationId,console.log(s.getPrizedrawListSendData),t.myPost2(s.URL.systemUrl,s.getPrizedrawListSendData,s.msgIdName.queryPrizedrawMsgId,s.msgIdName.queryPrizedrawMsgName,e.callback_getPrizedrawList)):("prizedrawgoodsManage"==e.flag&&(e.getPrizedrawGoodsList.stationId=""),"queryPrizetactic"==e.flag&&(e.getPrizetacticSendData.stationId=""))):(console.log("这样动态请求 获取售卖机列表"),void 0!==e.app?s.getVendingMachineListSendData.sessionId=e.app.myData.sessionId:s.getVendingMachineListSendData.sessionId=e.parent.app.myData.sessionId,s.getVendingMachineListSendData.where=" stationId='"+e.info.stationId+"'",e._callback_vendingMachineList=function(s){e.vendingMachineList=s.fieldValues,console.log(e.vendingMachineList)},t.myPost2(s.URL.systemUrl,s.getVendingMachineListSendData,s.msgIdName.normalSelectMsgId,s.msgIdName.normalSelectMsgName,e._callback_vendingMachineList))}}]).directive("stationSelect",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/stationSelect.html",controller:"stationSelectCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("vendingMachineSelectCon",["$scope","myConstants","httpJsonHandle",function(s,e,t){s.vendingMachineSelChange=function(){console.log(s.info.deviceId)}}]).directive("vendingMachineSelect",["httpJsonHandle","myConstants",function(s,e){return{restrict:"E",templateUrl:"tpl/dire/vendingMachineSelect.html",controller:"vendingMachineSelectCon",replace:!1,resolve:{httpJsonHandle:s,myConstants:e}}}]).controller("nozzleMultipleSelectCon",["$scope","myConstants",function(s,e){setTimeout(function(){$("#nozzleMutipleSelect").select2({data:s.nozzleNumListNoAll,placeholder:"请选择枪号",allowClear:!0})},100)}]).directive("nozzleMultipleSelect",function(){return{restrict:"E",templateUrl:"tpl/dire/nozzleMultipleSelect.html",controller:"nozzleMultipleSelectCon",replace:!1}});